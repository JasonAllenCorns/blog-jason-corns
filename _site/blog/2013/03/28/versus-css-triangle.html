<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Jason vs. the CSS Triangle: Seeing My Own Shadow</title>
    <meta name="description" content="A few years ago, I stumbled upon the CSS Triangle - a clever abuse of borders to achieve a triangle shape using no images.">
    <link rel="shortcut icon" href="/img/favicon.ico?v=2"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="canonical" href="http://jasoncorns.com/blog/2013/03/28/versus-css-triangle.html">
    <link rel="alternate" type="application/rss+xml" title="jasoncorns.com" href="http://jasoncorns.com/feed.xml">
</head>


<body>
<div class="container-fluid" id="wrapper">
    <div class="row" id="page-wrapper">
        <div class="col-xs-12 col-md-10 col-md-push-2 bg-gray blog-tiles">
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Jason vs. the CSS Triangle: Seeing My Own Shadow</h1>
    <p class="post-meta"><time datetime="2013-03-28T12:14:23-07:00" itemprop="datePublished">Mar 28, 2013</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">jason_corns</span></span></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>A few years ago, I stumbled upon the CSS Triangle - a clever abuse of borders to achieve a triangle shape using no images.<!--more-->  This led, almost immediately, to things like fancy tooltips.</p>

<p>I like things that are clever and simple, so I was immediately drawn to the idea.  The border trick, however, does not play well with box-shadow, and I desperately wanted a shadow on the triangle marker (“desperate” may be too strong a term, here). The borders are still technically there, so the box-shadow will show around the rectangular space occupied by the element, not just the triangular space occupied by the border.</p>

<p>After a few minutes of tinkering, I came up with the following solution.  Given an element with classname “hpContent”, consider the following “before” pseudo-element.  It’s a ton of CSS for this effect; a necessary evil required to support the various browser prefixes.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.hpContent</span><span class="nd">::before</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="m">#f9fcf7</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span>  <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">-12px</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span>  <span class="m">18px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span>
    <span class="nl">-webkit-box-shadow</span><span class="p">:</span>  <span class="m">-5px</span> <span class="m">5px</span> <span class="m">6px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">122</span><span class="p">,</span> <span class="m">122</span><span class="p">,</span> <span class="m">122</span><span class="p">,</span> <span class="m">.4</span><span class="p">);</span>
    <span class="nl">box-shadow</span><span class="p">:</span>  <span class="m">-5px</span> <span class="m">5px</span> <span class="m">6px</span> <span class="m">2px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">122</span><span class="p">,</span> <span class="m">122</span><span class="p">,</span> <span class="m">122</span><span class="p">,</span> <span class="m">.4</span><span class="p">);</span>

    <span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span>
    <span class="nl">-ms-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span> <span class="c">/* IE 9 */</span>
    <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span> <span class="c">/* Safari and Chrome */</span>
    <span class="nl">-o-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span> <span class="c">/* Opera */</span>
    <span class="nl">-moz-transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">45deg</span><span class="p">);</span> <span class="c">/* Firefox */</span>

    <span class="nl">background</span><span class="p">:</span> <span class="n">-moz-linear-gradient</span><span class="p">(</span><span class="m">45deg</span><span class="p">,</span>  <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">0%</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">50%</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">51%</span><span class="p">,</span> <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">100%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-webkit-gradient</span><span class="p">(</span><span class="n">linear</span><span class="p">,</span> <span class="nb">left</span> <span class="nb">bottom</span><span class="p">,</span> <span class="nb">right</span> <span class="nb">top</span><span class="p">,</span> <span class="n">color-stop</span><span class="p">(</span><span class="m">0%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)),</span> <span class="n">color-stop</span><span class="p">(</span><span class="m">50%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)),</span> <span class="n">color-stop</span><span class="p">(</span><span class="m">51%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)),</span> <span class="n">color-stop</span><span class="p">(</span><span class="m">100%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)));</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-webkit-linear-gradient</span><span class="p">(</span><span class="m">45deg</span><span class="p">,</span>  <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">0%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">50%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">51%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">100%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-o-linear-gradient</span><span class="p">(</span><span class="m">45deg</span><span class="p">,</span>  <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">0%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">50%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">51%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">100%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-ms-linear-gradient</span><span class="p">(</span><span class="m">45deg</span><span class="p">,</span>  <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">0%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">50%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">51%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">100%</span><span class="p">);</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">linear-gradient</span><span class="p">(</span><span class="m">45deg</span><span class="p">,</span>  <span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">0%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="m">50%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">51%</span><span class="p">,</span><span class="n">rgba</span><span class="p">(</span><span class="m">249</span><span class="p">,</span><span class="m">252</span><span class="p">,</span><span class="m">247</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="m">100%</span><span class="p">);</span>
    <span class="nl">filter</span><span class="p">:</span> <span class="n">progid</span><span class="p">:</span><span class="n">DXImageTransform</span><span class="p">.</span><span class="n">Microsoft</span><span class="p">.</span><span class="n">gradient</span><span class="p">(</span> <span class="n">startColorstr</span><span class="err">=</span><span class="s2">'#f9fcf7'</span><span class="p">,</span> <span class="n">endColorstr</span><span class="err">=</span><span class="s2">'#00f9fcf7'</span><span class="p">,</span><span class="n">GradientType</span><span class="err">=</span><span class="m">1</span> <span class="p">);</span>

<span class="p">}</span></code></pre></figure>

<p>Renders as this:</p>

<p><img src="/img/css-corner-full-width.png" alt="alt text" title="CSS corner with drop-shadow" /></p>

<p>That little triangle on the left?  That’s the result of the CSS block above.  The rounded corners and general box-shadow are just part of the surrounding Proof-of-Concept.</p>

<p>And voila.  Take that, PNGs.</p>

<p>Standard InternetExplorer disclaimer, blah blah blah.  This solution uses box-shadow and multi-stop gradients – two things that are not fully supported by IE.</p>


  </div>

</article>

        </div>
        <div class="col-xs-12 col-md-2 col-md-pull-10 aside">
            <h2>test for echo</h2>
        </div>
    </div>
</div>

<p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>
</body>

</html>
